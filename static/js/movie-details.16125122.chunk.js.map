{"version":3,"sources":["pages/MovieDetailsPage/MovieDetailsPage.jsx","services/ApiService/ApiService.jsx"],"names":["apiService","ApiService","MovieDetailsPage","state","genres","overview","poster_path","title","vote_average","hanleGoBack","props","history","location","push","pathname","search","query","movieId","this","match","params","getMovieById","then","map","el","name","join","setState","id","onClick","className","type","role","aria-label","src","alt","to","fallback","routesDetails","label","path","exact","component","Component","axios","defaults","baseURL","get","response","data","results","cast"],"mappings":"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","file":"static/js/movie-details.16125122.chunk.js","sourcesContent":["import { Component, Suspense } from 'react';\nimport { NavLink, Route } from 'react-router-dom';\nimport { routesDetails } from '../../components/routes';\nimport PropTypes from 'prop-types';\nimport ApiService from '../../services/ApiService/ApiService';\nconst apiService = new ApiService();\n\nclass MovieDetailsPage extends Component {\n  state = {\n    genres: '',\n    overview: '',\n    poster_path: '',\n    title: '',\n    vote_average: '',\n  };\n  componentDidMount() {\n    const { movieId } = this.props.match.params;\n    apiService\n      .getMovieById(movieId)\n      .then(({ genres, overview, poster_path, title, vote_average }) => {\n        if (genres) {\n          genres = genres.map(el => el.name).join(', ');\n        }\n        if (poster_path) {\n          poster_path = `https://image.tmdb.org/t/p/w500/${poster_path}`;\n        }\n        this.setState({\n          genres,\n          overview,\n          poster_path,\n          title,\n          vote_average,\n        });\n      });\n  }\n  hanleGoBack = () => {\n    const { history, location } = this.props;\n\n    history.push({\n      pathname: location.state?.pathname || '/',\n      state: location.state,\n      search: location.state.query ? `query=${location.state.query}` : null,\n    });\n  };\n  render() {\n    const id = this.props.match.params.movieId;\n    const { genres, overview, poster_path, title, vote_average } = this.state;\n\n    return (\n      <>\n        <button\n          onClick={this.hanleGoBack}\n          className=\"button backBtn\"\n          type=\"button\"\n        >\n          <span role=\"img\" aria-label=\"arrow-left-emoji\">\n            ‚Üê\n          </span>{' '}\n          Go back\n        </button>\n        <div className=\"movieDetails\">\n          <img className=\"moviePoster\" src={poster_path} alt=\"movie-poster\" />\n          <div className=\"description\">\n            <h2 className=\"mar\">{title}</h2>\n            <p className=\"mar\">User score: {vote_average * 10}%</p>\n            <h4 className=\"mar\">Overview</h4>\n            <p className=\"mar\">{overview}</p>\n            <h4 className=\"mar\">Genres</h4>\n            <p>{genres}</p>\n          </div>\n        </div>\n        <div>\n          <h3 className=\"mar\">Additional information</h3>\n          <ul>\n            <li className=\"mar\">\n              <NavLink\n                to={{\n                  pathname: `/movies/${id}/cast`,\n                  state: {\n                    query: this.props.location.state.query,\n                    pathname: this.props.location.state.pathname,\n                  },\n                }}\n              >\n                Cast\n              </NavLink>\n            </li>\n            <li className=\"mar\">\n              <NavLink\n                to={{\n                  pathname: `/movies/${id}/reviews`,\n                  state: {\n                    query: this.props.location.state.query,\n                    pathname: this.props.location.state.pathname,\n                  },\n                }}\n              >\n                Reviews\n              </NavLink>\n            </li>\n          </ul>\n        </div>\n\n        <Suspense fallback={<p>Loading...</p>}>\n          {routesDetails.map(({ label, path, exact, component }) => (\n            <Route\n              key={label}\n              path={path}\n              exact={exact}\n              component={component}\n            />\n          ))}\n        </Suspense>\n      </>\n    );\n  }\n}\nMovieDetailsPage.propTypes = {\n  history: PropTypes.object,\n  location: PropTypes.object,\n  match: PropTypes.object,\n};\nexport default MovieDetailsPage;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\nexport default class ApiService {\n  getTradingMovies() {\n    return axios\n      .get('/trending/all/week?api_key=3e91b5df25eb12a3a6040f68d69bdd3f')\n      .then(response => response.data.results);\n  }\n\n  getMoviesOnSearch(query) {\n    return axios\n      .get(\n        `/search/movie?api_key=3e91b5df25eb12a3a6040f68d69bdd3f&query=${query}`,\n      )\n      .then(response => response.data.results);\n  }\n  getMovieById(movieId) {\n    return axios\n      .get(`/movie/${movieId}?api_key=3e91b5df25eb12a3a6040f68d69bdd3f`)\n      .then(response => response.data);\n  }\n  getMovieCredits(movieId) {\n    return axios\n      .get(`/movie/${movieId}/credits?api_key=3e91b5df25eb12a3a6040f68d69bdd3f`)\n      .then(response => response.data.cast);\n  }\n  getMovieReviews(movieId) {\n    return axios\n      .get(`/movie/${movieId}/reviews?api_key=3e91b5df25eb12a3a6040f68d69bdd3f`)\n      .then(response => response.data.results);\n  }\n}\n"],"sourceRoot":""}